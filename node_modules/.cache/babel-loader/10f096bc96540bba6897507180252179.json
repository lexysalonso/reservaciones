{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from \"react\";\nimport ViajeContext from \"context/ViajesContext\";\n\nconst useViajes = (objnew, validationsForm) => {\n  _s();\n\n  const {\n    create,\n    update,\n    dataToEdit,\n    omnibusdisponibles,\n    destinos,\n    choferes,\n    setdataToEdit,\n    setModalClose,\n    dataToEditPk\n  } = useContext(ViajeContext);\n  const [form, setForm] = useState(objnew);\n  const [errores, setErrores] = useState({});\n  const [disable, setDisable] = useState(true);\n\n  const AtributeInteger = () => {\n    if (typeof form.omnibus == \"number\") form.omnibus = dataToEditPk.omnibus;\n    if (typeof form.chofer1 === \"string\") form.chofer1 = dataToEditPk.chofer1;\n    if (typeof form.chofer2 === \"string\") form.chofer2 = dataToEditPk.chofer2;\n    if (typeof form.origen === \"string\") form.origen = dataToEditPk.origen;\n    if (typeof form.destino === \"string\") form.destino = dataToEditPk.destino;\n    form.hora = dataToEditPk === null || dataToEditPk === void 0 ? void 0 : dataToEditPk.hora;\n  };\n\n  useEffect(() => {\n    if (dataToEditPk) {\n      console.log(\"ver data dataToEdit\", dataToEditPk);\n      setForm(dataToEditPk, console.log(\"Se Ejecuto\"));\n      console.log(\"ver data dataToEdit PK\", form);\n    } else {\n      console.log(\"Entro Aqui\");\n      setForm(objnew);\n    }\n  }, [dataToEditPk]);\n  console.log(\"ver data dataToEdit PK fuera\", form);\n\n  const handleChange = event => {\n    console.log(\"ver valor onchange\", event.target.value);\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleBlur = e => {\n    handleChange(e);\n    setErrores(validationsForm(form, setDisable));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (!form.hora || !form.omnibus) {\n      alert(\"NO se admiten campos en blanco\");\n      return;\n    }\n\n    if (form.pk === null) {\n      create(form);\n    } else {\n      console.log(\"ver form\", form);\n      update(form);\n    }\n\n    handleReset();\n  };\n\n  const handleReset = () => {\n    setForm(objnew);\n    setdataToEdit(null);\n    setModalClose();\n  };\n\n  return {\n    form,\n    dataToEdit,\n    errores,\n    disable,\n    omnibusdisponibles,\n    destinos,\n    choferes,\n    handleSubmit,\n    handleReset,\n    handleChange,\n    handleBlur\n  };\n};\n\n_s(useViajes, \"ijs/44+4j1blhZRWvpWY7lt2KT0=\");\n\nexport default useViajes;","map":{"version":3,"sources":["/media/lmdiaz/bd47588f-a8f9-4e55-b2d4-112c4f385fdf/Lexys/Programacion/proyecto/Reservaciones/Reservaciones-bootstrap/src/hooks/useViajes.js"],"names":["React","useEffect","useContext","useState","ViajeContext","useViajes","objnew","validationsForm","create","update","dataToEdit","omnibusdisponibles","destinos","choferes","setdataToEdit","setModalClose","dataToEditPk","form","setForm","errores","setErrores","disable","setDisable","AtributeInteger","omnibus","chofer1","chofer2","origen","destino","hora","console","log","handleChange","event","target","value","name","handleBlur","e","handleSubmit","preventDefault","alert","pk","handleReset"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\nimport ViajeContext from \"context/ViajesContext\";\n\nconst useViajes = (objnew, validationsForm) => {\n  const {\n    create,\n    update,\n    dataToEdit,\n    omnibusdisponibles,\n    destinos,\n    choferes,\n    setdataToEdit,\n    setModalClose,\n    dataToEditPk,\n  } = useContext(ViajeContext);\n  const [form, setForm] = useState(objnew);\n  const [errores, setErrores] = useState({});\n  const [disable, setDisable] = useState(true);\n\n  const AtributeInteger = () => {\n    if (typeof form.omnibus == \"number\") form.omnibus = dataToEditPk.omnibus;\n    if (typeof form.chofer1 === \"string\") form.chofer1 = dataToEditPk.chofer1;\n    if (typeof form.chofer2 === \"string\") form.chofer2 = dataToEditPk.chofer2;\n    if (typeof form.origen === \"string\") form.origen = dataToEditPk.origen;\n    if (typeof form.destino === \"string\") form.destino = dataToEditPk.destino;\n    form.hora = dataToEditPk?.hora;\n  };\n\n  useEffect(() => {\n    if (dataToEditPk) {\n      console.log(\"ver data dataToEdit\", dataToEditPk);\n      setForm(dataToEditPk, console.log(\"Se Ejecuto\"));\n      console.log(\"ver data dataToEdit PK\", form);\n    } else {\n      console.log(\"Entro Aqui\");\n      setForm(objnew);\n    }\n  }, [dataToEditPk]);\n  console.log(\"ver data dataToEdit PK fuera\", form);\n\n  const handleChange = (event) => {\n    console.log(\"ver valor onchange\", event.target.value);\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleBlur = (e) => {\n    handleChange(e);\n    setErrores(validationsForm(form, setDisable));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (!form.hora || !form.omnibus) {\n      alert(\"NO se admiten campos en blanco\");\n      return;\n    }\n    if (form.pk === null) {\n      create(form);\n    } else {\n      console.log(\"ver form\", form);\n      update(form);\n    }\n    handleReset();\n  };\n\n  const handleReset = () => {\n    setForm(objnew);\n    setdataToEdit(null);\n    setModalClose();\n  };\n  return {\n    form,\n    dataToEdit,\n    errores,\n    disable,\n    omnibusdisponibles,\n    destinos,\n    choferes,\n    handleSubmit,\n    handleReset,\n    handleChange,\n    handleBlur,\n  };\n};\n\nexport default useViajes;\n"]},"metadata":{},"sourceType":"module"}