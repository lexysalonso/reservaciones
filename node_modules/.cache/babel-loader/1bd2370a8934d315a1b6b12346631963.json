{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport servicesviajes from \"modules/Viajes/services\";\nimport ReservacionContext from \"context/ReservacionesContext\";\nimport parsetError from \"utilitis/parsetError\";\n\nconst useReservciones = (reserva, validationsForm, validationsFormCI) => {\n  _s();\n\n  const [res, setRes] = useState(reserva);\n  const [cis, setCis] = useState([]);\n  const [errores, setErrores] = useState({});\n  const [erroscis, setErrorsCI] = useState({});\n  const [disable, setDisable] = useState(true);\n  const [ci, setCI] = useState(\"\");\n  const {\n    cant\n  } = useParams();\n  const state = useSelector(state => state);\n  const {\n    cantidad\n  } = state.reservacion; //const { viajes } = state.viajes;\n\n  const dispatch = useDispatch();\n  const {\n    viajes,\n    loadViajes,\n    postReservaciones,\n    setOpenModal\n  } = useContext(ReservacionContext);\n  console.log(\"ver cantidad\", cantidad);\n  let history = useHistory();\n\n  const Regresar = () => {\n    history.push(\"/admin/reservar\");\n  };\n\n  useEffect(() => {\n    loadViajes();\n  }, []);\n  useEffect(() => {\n    setErrorsCI(validationsFormCI(ci, setDisable));\n    console.log(\"cambio ci\", ci);\n  }, [ci]);\n\n  const handleChangeCIS = e => {\n    e.preventDefault();\n    setCI(e.target.value);\n    cis.push(e.target.value);\n    parsetError(e);\n  };\n\n  const handleChange = e => {\n    res.asientos = Number(cant);\n    setRes({ ...res,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleOnKeyUp = e => {\n    handleChange(e);\n    setErrores(validationsForm(res, cis, setDisable));\n  };\n\n  const hanledsubmit = e => {\n    e.preventDefault();\n    console.log(\"se envio el submit\", cis);\n    res.cis = cis.join(\",\");\n    console.log(\"se envio el submit\", res); //console.log(\"ver viajes\", viajes);\n\n    postReservaciones(res);\n    history.push(\"/admin/reservaciones\");\n  };\n\n  return {\n    disable,\n    errores,\n    erroscis,\n    cantidad,\n    viajes,\n    res,\n    ci,\n    cant,\n    handleOnKeyUp,\n    hanledsubmit,\n    handleChange,\n    handleChangeCIS,\n    Regresar\n  };\n};\n\n_s(useReservciones, \"Nxmc+4QsEQVZXfe/vP/qs3vMgCU=\", false, function () {\n  return [useParams, useSelector, useDispatch, useHistory];\n});\n\nexport default useReservciones;","map":{"version":3,"sources":["/media/lmdiaz/bd47588f-a8f9-4e55-b2d4-112c4f385fdf/Lexys/Programacion/proyecto/Reservaciones/Reservaciones-bootstrap/src/hooks/useReservciones.js"],"names":["React","useState","useEffect","useContext","useSelector","useDispatch","useParams","useHistory","servicesviajes","ReservacionContext","parsetError","useReservciones","reserva","validationsForm","validationsFormCI","res","setRes","cis","setCis","errores","setErrores","erroscis","setErrorsCI","disable","setDisable","ci","setCI","cant","state","cantidad","reservacion","dispatch","viajes","loadViajes","postReservaciones","setOpenModal","console","log","history","Regresar","push","handleChangeCIS","e","preventDefault","target","value","handleChange","asientos","Number","name","handleOnKeyUp","hanledsubmit","join"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport servicesviajes from \"modules/Viajes/services\";\nimport ReservacionContext from \"context/ReservacionesContext\";\nimport parsetError from \"utilitis/parsetError\";\n\nconst useReservciones = (reserva, validationsForm, validationsFormCI) => {\n  const [res, setRes] = useState(reserva);\n  const [cis, setCis] = useState([]);\n  const [errores, setErrores] = useState({});\n  const [erroscis, setErrorsCI] = useState({});\n  const [disable, setDisable] = useState(true);\n  const [ci, setCI] = useState(\"\");\n  const { cant } = useParams();\n  const state = useSelector((state) => state);\n  const { cantidad } = state.reservacion;\n  //const { viajes } = state.viajes;\n  const dispatch = useDispatch();\n\n  const { viajes, loadViajes, postReservaciones, setOpenModal } =\n    useContext(ReservacionContext);\n\n  console.log(\"ver cantidad\", cantidad);\n  let history = useHistory();\n\n  const Regresar = () => {\n    history.push(\"/admin/reservar\");\n  };\n\n  useEffect(() => {\n    loadViajes();\n  }, []);\n\n  useEffect(() => {\n    setErrorsCI(validationsFormCI(ci, setDisable));\n    console.log(\"cambio ci\", ci);\n  }, [ci]);\n\n  const handleChangeCIS = (e) => {\n    e.preventDefault();\n    setCI(e.target.value);\n    cis.push(e.target.value);\n    parsetError(e)\n  };\n\n  const handleChange = (e) => {\n    res.asientos = Number(cant);\n\n    setRes({\n      ...res,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleOnKeyUp = (e) => {\n    handleChange(e);\n    setErrores(validationsForm(res, cis, setDisable));\n  };\n  const hanledsubmit = (e) => {\n    e.preventDefault();\n    console.log(\"se envio el submit\", cis);\n    res.cis = cis.join(\",\");\n    console.log(\"se envio el submit\", res);\n    //console.log(\"ver viajes\", viajes);\n    postReservaciones(res);\n    history.push(\"/admin/reservaciones\");\n  };\n  return {\n    disable,\n    errores,\n    erroscis,\n    cantidad,\n    viajes,\n    res,\n    ci,\n    cant,\n    handleOnKeyUp,\n    hanledsubmit,\n    handleChange,\n    handleChangeCIS,\n    Regresar,\n  };\n};\n\nexport default useReservciones;\n"]},"metadata":{},"sourceType":"module"}