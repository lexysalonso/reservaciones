{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport OmnibusContext from \"context/OmnibusContext\";\n\nconst useOmnibus = (objnew, validationsForm) => {\n  _s();\n\n  const {\n    dataToEdit,\n    setdataToEdit,\n    setModalClose,\n    create,\n    update\n  } = useContext(OmnibusContext);\n  const [form, setForm] = useState(objnew);\n  const [disable, setDisable] = useState(false);\n  const [errores, setErrores] = useState({});\n  useEffect(() => {\n    console.log(\"ver datatoEdit\", dataToEdit);\n\n    if (dataToEdit) {\n      setForm(dataToEdit);\n    } else {\n      setForm(objnew);\n    }\n  }, [dataToEdit]);\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleChangeCkeck = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.checked\n    });\n  };\n\n  const handleBlur = e => {\n    handleChange(e);\n    setErrores(validationsForm(form));\n\n    if (Object.keys(errores).length === 0) {\n      setDisable(true);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (Object.keys(errores).length === 0) {\n      if (form.pk === null) {\n        delete form.pk;\n        create(form);\n      } else {\n        update(form);\n      }\n\n      handleReset();\n    }\n  };\n\n  const handleReset = e => {\n    setForm(objnew);\n    setdataToEdit(null);\n    setModalClose();\n  };\n\n  return {\n    form,\n    errores,\n    disable,\n    handleChange,\n    handleChangeCkeck,\n    handleSubmit,\n    handleReset,\n    handleBlur,\n    setModalClose\n  };\n};\n\n_s(useOmnibus, \"K7rEMfkgOCqN4IU6ThsS064Gs2A=\");\n\nexport default useOmnibus;","map":{"version":3,"sources":["/media/lmdiaz/bd47588f-a8f9-4e55-b2d4-112c4f385fdf/Lexys/Programacion/proyecto/Reservaciones/Reservaciones-bootstrap/src/hooks/useOmnibus.js"],"names":["React","useContext","useEffect","useState","OmnibusContext","useOmnibus","objnew","validationsForm","dataToEdit","setdataToEdit","setModalClose","create","update","form","setForm","disable","setDisable","errores","setErrores","console","log","handleChange","e","target","name","value","handleChangeCkeck","checked","handleBlur","Object","keys","length","handleSubmit","preventDefault","pk","handleReset"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,cAAP,MAA2B,wBAA3B;;AAEA,MAAMC,UAAU,GAAG,CAACC,MAAD,EAASC,eAAT,KAA6B;AAAA;;AAC9C,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,aAAd;AAA6BC,IAAAA,aAA7B;AAA4CC,IAAAA,MAA5C;AAAoDC,IAAAA;AAApD,MACJX,UAAU,CAACG,cAAD,CADZ;AAEA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAACG,MAAD,CAAhC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,EAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BZ,UAA9B;;AACA,QAAIA,UAAJ,EAAgB;AACdM,MAAAA,OAAO,CAACN,UAAD,CAAP;AACD,KAFD,MAEO;AACLM,MAAAA,OAAO,CAACR,MAAD,CAAP;AACD;AACF,GAPQ,EAON,CAACE,UAAD,CAPM,CAAT;;AASA,QAAMa,YAAY,GAAIC,CAAD,IAAO;AAC1BR,IAAAA,OAAO,CAAC,EACN,GAAGD,IADG;AAEN,OAACS,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFpB,KAAD,CAAP;AAID,GALD;;AAOA,QAAMC,iBAAiB,GAAIJ,CAAD,IAAO;AAC/BR,IAAAA,OAAO,CAAC,EACN,GAAGD,IADG;AAEN,OAACS,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASI;AAFpB,KAAD,CAAP;AAID,GALD;;AAOA,QAAMC,UAAU,GAAIN,CAAD,IAAO;AACxBD,IAAAA,YAAY,CAACC,CAAD,CAAZ;AACAJ,IAAAA,UAAU,CAACX,eAAe,CAACM,IAAD,CAAhB,CAAV;;AACC,QAAIgB,MAAM,CAACC,IAAP,CAAYb,OAAZ,EAAqBc,MAArB,KAAgC,CAApC,EAAuC;AACrCf,MAAAA,UAAU,CAAC,IAAD,CAAV;AACD;AACH,GAND;;AAQA,QAAMgB,YAAY,GAAIV,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACW,cAAF;;AACA,QAAIJ,MAAM,CAACC,IAAP,CAAYb,OAAZ,EAAqBc,MAArB,KAAgC,CAApC,EAAuC;AACrC,UAAIlB,IAAI,CAACqB,EAAL,KAAY,IAAhB,EAAsB;AACpB,eAAOrB,IAAI,CAACqB,EAAZ;AACAvB,QAAAA,MAAM,CAACE,IAAD,CAAN;AACD,OAHD,MAGO;AACLD,QAAAA,MAAM,CAACC,IAAD,CAAN;AACD;;AACDsB,MAAAA,WAAW;AACZ;AACF,GAXD;;AAYA,QAAMA,WAAW,GAAIb,CAAD,IAAO;AACzBR,IAAAA,OAAO,CAACR,MAAD,CAAP;AACAG,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAC,IAAAA,aAAa;AACd,GAJD;;AAMA,SAAO;AACLG,IAAAA,IADK;AAELI,IAAAA,OAFK;AAGLF,IAAAA,OAHK;AAILM,IAAAA,YAJK;AAKLK,IAAAA,iBALK;AAMLM,IAAAA,YANK;AAOLG,IAAAA,WAPK;AAQLP,IAAAA,UARK;AASLlB,IAAAA;AATK,GAAP;AAWD,CAnED;;GAAML,U;;AAqEN,eAAeA,UAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport OmnibusContext from \"context/OmnibusContext\";\n\nconst useOmnibus = (objnew, validationsForm) => {\n  const { dataToEdit, setdataToEdit, setModalClose, create, update } =\n    useContext(OmnibusContext);\n  const [form, setForm] = useState(objnew);\n  const [disable, setDisable] = useState(false);\n  const [errores, setErrores] = useState({});\n\n  useEffect(() => {\n    console.log(\"ver datatoEdit\", dataToEdit);\n    if (dataToEdit) {\n      setForm(dataToEdit);\n    } else {\n      setForm(objnew);\n    }\n  }, [dataToEdit]);\n\n  const handleChange = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleChangeCkeck = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.checked,\n    });\n  };\n\n  const handleBlur = (e) => {\n    handleChange(e);\n    setErrores(validationsForm(form));\n     if (Object.keys(errores).length === 0) {\n       setDisable(true)\n     }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (Object.keys(errores).length === 0) {\n      if (form.pk === null) {\n        delete form.pk;\n        create(form);\n      } else {\n        update(form);\n      }\n      handleReset();\n    }\n  };\n  const handleReset = (e) => {\n    setForm(objnew);\n    setdataToEdit(null);\n    setModalClose();\n  };\n\n  return {\n    form,\n    errores,\n    disable,\n    handleChange,\n    handleChangeCkeck,\n    handleSubmit,\n    handleReset,\n    handleBlur,\n    setModalClose,\n  };\n};\n\nexport default useOmnibus;\n"]},"metadata":{},"sourceType":"module"}