{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from \"react\";\nimport ViajeContext from \"context/ViajesContext\";\n\nconst useViajes = (objnew, validationsForm) => {\n  _s();\n\n  const {\n    create,\n    update,\n    dataToEdit,\n    omnibus,\n    destinos,\n    choferes,\n    setdataToEdit,\n    setModalClose,\n    dataToEditPk\n  } = useContext(ViajeContext);\n  const [form, setForm] = useState(objnew);\n  const [errores, setErrores] = useState({});\n  const [disable, setDisable] = useState({});\n\n  const AtributeInteger = () => {\n    if (typeof form.omnibus == \"number\") form.omnibus = dataToEditPk.omnibus;\n    if (typeof form.chofer1 === \"string\") form.chofer1 = dataToEditPk.chofer1;\n    if (typeof form.chofer2 === \"string\") form.chofer2 = dataToEditPk.chofer2;\n    if (typeof form.origen === \"string\") form.origen = dataToEditPk.origen;\n    if (typeof form.destino === \"string\") form.destino = dataToEditPk.destino;\n    form.hora = dataToEditPk === null || dataToEditPk === void 0 ? void 0 : dataToEditPk.hora;\n  };\n\n  useEffect(() => {\n    if (dataToEditPk) {\n      console.log(\"ver data dataToEdit\", dataToEditPk);\n      setForm(dataToEditPk, console.log(\"Se Ejecuto\"));\n      console.log(\"ver data dataToEdit PK\", form);\n    } else {\n      console.log(\"Entro Aqui\");\n      setForm(objnew);\n    }\n  }, [dataToEditPk]);\n  console.log(\"ver data dataToEdit PK fuera\", form);\n\n  const handleChange = event => {\n    console.log(\"ver valor onchange\", event.target.value);\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleBlur = e => {\n    handleChange(e);\n    setErrores(validationsForm(form, setDisable));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (!form.hora || !form.omnibus) {\n      alert(\"NO se admiten campos en blanco\");\n      return;\n    }\n\n    if (form.pk === null) {\n      create(form);\n    } else {\n      console.log(\"ver form\", form);\n      update(form);\n    }\n\n    handleReset();\n  };\n\n  const handleReset = () => {\n    setForm(objnew);\n    setdataToEdit(null);\n    setModalClose();\n  };\n\n  return {\n    form,\n    dataToEdit,\n    omnibus,\n    destinos,\n    choferes,\n    handleSubmit,\n    handleReset,\n    handleChange\n  };\n};\n\n_s(useViajes, \"7fDByz+5g/BrcPGWHzpgppn4TCQ=\");\n\nexport default useViajes;","map":{"version":3,"sources":["/media/lmdiaz/bd47588f-a8f9-4e55-b2d4-112c4f385fdf/Lexys/Programacion/proyecto/Reservaciones/Reservaciones-bootstrap/src/hooks/useViajes.js"],"names":["React","useEffect","useContext","useState","ViajeContext","useViajes","objnew","validationsForm","create","update","dataToEdit","omnibus","destinos","choferes","setdataToEdit","setModalClose","dataToEditPk","form","setForm","errores","setErrores","disable","setDisable","AtributeInteger","chofer1","chofer2","origen","destino","hora","console","log","handleChange","event","target","value","name","handleBlur","e","handleSubmit","preventDefault","alert","pk","handleReset"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\nimport ViajeContext from \"context/ViajesContext\";\n\nconst useViajes = (objnew, validationsForm) => {\n  const {\n    create,\n    update,\n    dataToEdit,\n    omnibus,\n    destinos,\n    choferes,\n    setdataToEdit,\n    setModalClose,\n    dataToEditPk,\n  } = useContext(ViajeContext);\n  const [form, setForm] = useState(objnew);\n  const[errores,setErrores] = useState({})\n  const[disable,setDisable] = useState({})\n\n  const AtributeInteger = () => {\n    if (typeof form.omnibus == \"number\") form.omnibus = dataToEditPk.omnibus;\n    if (typeof form.chofer1 === \"string\") form.chofer1 = dataToEditPk.chofer1;\n    if (typeof form.chofer2 === \"string\") form.chofer2 = dataToEditPk.chofer2;\n    if (typeof form.origen === \"string\") form.origen = dataToEditPk.origen;\n    if (typeof form.destino === \"string\") form.destino = dataToEditPk.destino;\n    form.hora = dataToEditPk?.hora;\n  };\n\n  useEffect(() => {\n    if (dataToEditPk) {\n      console.log(\"ver data dataToEdit\", dataToEditPk);\n      setForm(dataToEditPk, console.log(\"Se Ejecuto\"));\n      console.log(\"ver data dataToEdit PK\", form);\n    } else {\n      console.log(\"Entro Aqui\");\n      setForm(objnew);\n    }\n  }, [dataToEditPk]);\n  console.log(\"ver data dataToEdit PK fuera\", form);\n\n  const handleChange = (event) => {\n    console.log(\"ver valor onchange\", event.target.value);\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleBlur =(e)=>{\n     handleChange(e)\n     setErrores(validationsForm(form,setDisable))\n  } \n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (!form.hora || !form.omnibus) {\n      alert(\"NO se admiten campos en blanco\");\n      return;\n    }\n    if (form.pk === null) {\n      create(form);\n    } else {\n      console.log(\"ver form\", form);\n      update(form);\n    }\n    handleReset();\n  };\n\n  const handleReset = () => {\n    setForm(objnew);\n    setdataToEdit(null);\n    setModalClose();\n  };\n  return {\n    form,\n    dataToEdit,\n    omnibus,\n    destinos,\n    choferes,\n    handleSubmit,\n    handleReset,\n    handleChange,\n  };\n};\n\nexport default useViajes;\n"]},"metadata":{},"sourceType":"module"}