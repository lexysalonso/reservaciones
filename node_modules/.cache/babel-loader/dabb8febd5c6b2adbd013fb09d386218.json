{"ast":null,"code":"import { keys, load } from \"./storage\";\nimport axios from \"axios\";\nconst method = {\n  GET: \"GET\",\n  POST: \"POST\",\n  PUT: \"PUT\",\n  DEL: \"DELETE\"\n};\n\nconst requestAsync = async (method, endpoint, body) => {\n  let requestOptions = {\n    method: method,\n    headers: header(),\n    data: body ? JSON.stringify(body) : false\n  };\n  if (!requestOptions.data) delete requestOptions.data;\n  console.log(\"ver datarequests\", requestOptions);\n\n  try {\n    let result = await axios(process.env.REACT_APP_BACKEND + endpoint, requestOptions);\n    let data = await result.data;\n    return data;\n  } catch (err) {\n    let error = true;\n    let status = err.response.status || \"00\";\n    let statusText = err.response.statusText || \"ocurrio un error\";\n    return {\n      error,\n      status,\n      statusText\n    };\n  }\n};\n/*return fetch(process.env.REACT_APP_BACKEND + endpoint, requestOptions)\n    .then((res) =>\n      res.ok\n        ? res.json()\n        : Promise.reject({\n            err: true,\n            status: res.status || \"00\",\n            statusText: res.statusText || \"ocurrio un error\",\n          })\n    )\n    .catch((err) => err);*/\n\n\nconst get = endpoint => requestAsync(method.GET, endpoint);\n\nconst post = async (endpoint, body) => requestAsync(method.POST, endpoint, body);\n\nconst put = (endpoint, body) => requestAsync(method.PUT, endpoint, body);\n\nconst del = (endpoint, body) => requestAsync(method.DEL, endpoint, body);\n\nconst header = () => {\n  let options = {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  };\n  let token = load(keys.auth);\n\n  if (token) {\n    let tokenhead = {\n      Autorization: \"Bearer \" + token\n    };\n    const header = { ...options,\n      ...tokenhead\n    };\n    return header;\n  }\n};\n\nexport default {\n  get,\n  post,\n  put,\n  del\n};","map":{"version":3,"sources":["/media/lmdiaz/bd47588f-a8f9-4e55-b2d4-112c4f385fdf/Lexys/Programacion/proyecto/Reservaciones/Reservaciones-bootstrap/src/helpers/servicesAxios.js"],"names":["keys","load","axios","method","GET","POST","PUT","DEL","requestAsync","endpoint","body","requestOptions","headers","header","data","JSON","stringify","console","log","result","process","env","REACT_APP_BACKEND","err","error","status","response","statusText","get","post","put","del","options","Accept","token","auth","tokenhead","Autorization"],"mappings":"AAAA,SAASA,IAAT,EAAeC,IAAf,QAA2B,WAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,GAAG,EAAE,KADQ;AAEbC,EAAAA,IAAI,EAAE,MAFO;AAGbC,EAAAA,GAAG,EAAE,KAHQ;AAIbC,EAAAA,GAAG,EAAE;AAJQ,CAAf;;AASA,MAAMC,YAAY,GAAG,OAAOL,MAAP,EAAeM,QAAf,EAAyBC,IAAzB,KAAkC;AACrD,MAAIC,cAAc,GAAG;AAClBR,IAAAA,MAAM,EAAEA,MADU;AAEnBS,IAAAA,OAAO,EAAEC,MAAM,EAFI;AAGnBC,IAAAA,IAAI,EAAEJ,IAAI,GAAGK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAH,GAA0B;AAHjB,GAArB;AAKA,MAAI,CAACC,cAAc,CAACG,IAApB,EAA0B,OAAOH,cAAc,CAACG,IAAtB;AAC1BG,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCP,cAAhC;;AACA,MAAI;AACF,QAAIQ,MAAM,GAAG,MAAMjB,KAAK,CACtBkB,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgCb,QADV,EAEtBE,cAFsB,CAAxB;AAKA,QAAIG,IAAI,GAAG,MAAMK,MAAM,CAACL,IAAxB;AACA,WAAOA,IAAP;AACD,GARD,CAQE,OAAOS,GAAP,EAAY;AACZ,QAAIC,KAAK,GAAG,IAAZ;AACA,QAAIC,MAAM,GAAGF,GAAG,CAACG,QAAJ,CAAaD,MAAb,IAAuB,IAApC;AACA,QAAIE,UAAU,GAAGJ,GAAG,CAACG,QAAJ,CAAaC,UAAb,IAA2B,kBAA5C;AACA,WAAO;AAAEH,MAAAA,KAAF;AAASC,MAAAA,MAAT;AAAiBE,MAAAA;AAAjB,KAAP;AACD;AACF,CAtBD;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,GAAG,GAAInB,QAAD,IAAcD,YAAY,CAACL,MAAM,CAACC,GAAR,EAAaK,QAAb,CAAtC;;AACA,MAAMoB,IAAI,GAAG,OAAOpB,QAAP,EAAiBC,IAAjB,KACXF,YAAY,CAACL,MAAM,CAACE,IAAR,EAAcI,QAAd,EAAwBC,IAAxB,CADd;;AAEA,MAAMoB,GAAG,GAAG,CAACrB,QAAD,EAAWC,IAAX,KAAoBF,YAAY,CAACL,MAAM,CAACG,GAAR,EAAaG,QAAb,EAAuBC,IAAvB,CAA5C;;AACA,MAAMqB,GAAG,GAAG,CAACtB,QAAD,EAAWC,IAAX,KAAoBF,YAAY,CAACL,MAAM,CAACI,GAAR,EAAaE,QAAb,EAAuBC,IAAvB,CAA5C;;AAEA,MAAMG,MAAM,GAAG,MAAM;AACnB,MAAImB,OAAO,GAAG;AACZ,oBAAgB,kBADJ;AAEZC,IAAAA,MAAM,EAAE,kBAFI;AAGZ,mCAA+B;AAHnB,GAAd;AAKA,MAAIC,KAAK,GAAGjC,IAAI,CAACD,IAAI,CAACmC,IAAN,CAAhB;;AACA,MAAID,KAAJ,EAAW;AACT,QAAIE,SAAS,GAAG;AACdC,MAAAA,YAAY,EAAE,YAAYH;AADZ,KAAhB;AAGA,UAAMrB,MAAM,GAAG,EAAE,GAAGmB,OAAL;AAAc,SAAGI;AAAjB,KAAf;AACA,WAAOvB,MAAP;AACD;AACF,CAdD;;AAeA,eAAe;AAAEe,EAAAA,GAAF;AAAOC,EAAAA,IAAP;AAAaC,EAAAA,GAAb;AAAkBC,EAAAA;AAAlB,CAAf","sourcesContent":["import { keys, load } from \"./storage\";\nimport axios from \"axios\";\n\nconst method = {\n  GET: \"GET\",\n  POST: \"POST\",\n  PUT: \"PUT\",\n  DEL: \"DELETE\",\n};\n\n\n\nconst requestAsync = async (method, endpoint, body) => {\n  let requestOptions = {\n     method: method,\n    headers: header(),\n    data: body ? JSON.stringify(body) : false,\n  };\n  if (!requestOptions.data) delete requestOptions.data;\n  console.log(\"ver datarequests\", requestOptions);\n  try {\n    let result = await axios(\n      process.env.REACT_APP_BACKEND + endpoint,\n      requestOptions\n    );\n    \n    let data = await result.data;\n    return data;\n  } catch (err) {\n    let error = true;\n    let status = err.response.status || \"00\";\n    let statusText = err.response.statusText || \"ocurrio un error\";\n    return { error, status, statusText };\n  }\n};\n\n/*return fetch(process.env.REACT_APP_BACKEND + endpoint, requestOptions)\n    .then((res) =>\n      res.ok\n        ? res.json()\n        : Promise.reject({\n            err: true,\n            status: res.status || \"00\",\n            statusText: res.statusText || \"ocurrio un error\",\n          })\n    )\n    .catch((err) => err);*/\nconst get = (endpoint) => requestAsync(method.GET, endpoint);\nconst post = async (endpoint, body) =>\n  requestAsync(method.POST, endpoint, body);\nconst put = (endpoint, body) => requestAsync(method.PUT, endpoint, body);\nconst del = (endpoint, body) => requestAsync(method.DEL, endpoint, body);\n\nconst header = () => {\n  let options = {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  };\n  let token = load(keys.auth);\n  if (token) {\n    let tokenhead = {\n      Autorization: \"Bearer \" + token,\n    };\n    const header = { ...options, ...tokenhead };\n    return header;\n  }\n};\nexport default { get, post, put, del };\n"]},"metadata":{},"sourceType":"module"}