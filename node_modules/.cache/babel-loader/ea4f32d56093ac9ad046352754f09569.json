{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\n\nconst useReservciones = _ref => {\n  _s();\n\n  let {\n    reserva\n  } = _ref;\n  const [res, setRes] = useState(reserva);\n  const [cis, setCis] = useState([]);\n  const [visible, setVisible] = useState(true);\n  const {\n    cant\n  } = useParams();\n  const state = useSelector(state => state);\n  const {\n    cantidad\n  } = state.reservacion; //const { viajes } = state.viajes;\n\n  const dispatch = useDispatch();\n  const {\n    viajes,\n    loadViajes,\n    postReservaciones,\n    setOpenModal\n  } = useContext(ReservacionContext);\n  console.log(\"ver cantidad\", cantidad);\n  let history = useHistory();\n\n  const Regresar = () => {\n    history.push(\"/admin/reservar\");\n  };\n\n  useEffect(() => {\n    loadViajes();\n  }, []);\n\n  const handleChangeCIS = e => {\n    e.preventDefault();\n    cis.push(e.target.value);\n  };\n\n  const handleChange = e => {\n    res.asientos = Number(cant);\n    setRes({ ...res,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const hanledsubmit = e => {\n    e.preventDefault();\n    console.log(\"se envio el submit\", cis);\n    res.cis = cis.join(\",\");\n    console.log(\"se envio el submit\", res); //console.log(\"ver viajes\", viajes);\n\n    postReservaciones(res);\n    history.push(\"/admin/reservaciones\");\n  };\n\n  return {\n    cantidad,\n    viajes,\n    res,\n    cant,\n    hanledsubmit,\n    handleChange,\n    handleChangeCIS,\n    Regresar\n  };\n};\n\n_s(useReservciones, \"8uOtVF3w8KIn/BkORJLZ++H2Wgk=\", true, function () {\n  return [useParams, useSelector, useDispatch];\n});\n\nexport default useReservciones;","map":{"version":3,"sources":["/media/lmdiaz/bd47588f-a8f9-4e55-b2d4-112c4f385fdf/Lexys/Programacion/proyecto/Reservaciones/Reservaciones-bootstrap/src/hooks/useReservciones.js"],"names":["React","useState","useEffect","useContext","useSelector","useDispatch","useParams","useReservciones","reserva","res","setRes","cis","setCis","visible","setVisible","cant","state","cantidad","reservacion","dispatch","viajes","loadViajes","postReservaciones","setOpenModal","ReservacionContext","console","log","history","useHistory","Regresar","push","handleChangeCIS","e","preventDefault","target","value","handleChange","asientos","Number","name","hanledsubmit","join"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,MAAMC,eAAe,GAAG,QAAe;AAAA;;AAAA,MAAd;AAACC,IAAAA;AAAD,GAAc;AACrC,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAACO,OAAD,CAA9B;AACA,QAAM,CAACG,GAAD,EAAMC,MAAN,IAAgBX,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAEc,IAAAA;AAAF,MAAWT,SAAS,EAA1B;AACA,QAAMU,KAAK,GAAGZ,WAAW,CAAEY,KAAD,IAAWA,KAAZ,CAAzB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAeD,KAAK,CAACE,WAA3B,CANqC,CAOrC;;AACA,QAAMC,QAAQ,GAAGd,WAAW,EAA5B;AAEA,QAAM;AAAEe,IAAAA,MAAF;AAAUC,IAAAA,UAAV;AAAsBC,IAAAA,iBAAtB;AAAyCC,IAAAA;AAAzC,MACJpB,UAAU,CAACqB,kBAAD,CADZ;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BT,QAA5B;AACA,MAAIU,OAAO,GAAGC,UAAU,EAAxB;;AAEA,QAAMC,QAAQ,GAAG,MAAM;AACrBF,IAAAA,OAAO,CAACG,IAAR,CAAa,iBAAb;AACD,GAFD;;AAIA5B,EAAAA,SAAS,CAAC,MAAM;AACdmB,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT;;AAGA,QAAMU,eAAe,GAAIC,CAAD,IAAO;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AACAtB,IAAAA,GAAG,CAACmB,IAAJ,CAASE,CAAC,CAACE,MAAF,CAASC,KAAlB;AACD,GAHD;;AAKA,QAAMC,YAAY,GAAIJ,CAAD,IAAO;AAC1BvB,IAAAA,GAAG,CAAC4B,QAAJ,GAAeC,MAAM,CAACvB,IAAD,CAArB;AAEAL,IAAAA,MAAM,CAAC,EACL,GAAGD,GADE;AAEL,OAACuB,CAAC,CAACE,MAAF,CAASK,IAAV,GAAiBP,CAAC,CAACE,MAAF,CAASC;AAFrB,KAAD,CAAN;AAID,GAPD;;AAQC,QAAMK,YAAY,GAAIR,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCf,GAAlC;AACAF,IAAAA,GAAG,CAACE,GAAJ,GAAUA,GAAG,CAAC8B,IAAJ,CAAS,GAAT,CAAV;AACAhB,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCjB,GAAlC,EAJ0B,CAK1B;;AACAa,IAAAA,iBAAiB,CAACb,GAAD,CAAjB;AACAkB,IAAAA,OAAO,CAACG,IAAR,CAAa,sBAAb;AACD,GARD;;AASD,SAAO;AACLb,IAAAA,QADK;AAELG,IAAAA,MAFK;AAGLX,IAAAA,GAHK;AAILM,IAAAA,IAJK;AAKLyB,IAAAA,YALK;AAMLJ,IAAAA,YANK;AAOLL,IAAAA,eAPK;AAQLF,IAAAA;AARK,GAAP;AAUD,CAvDD;;GAAMtB,e;UAIaD,S,EACHF,W,EAGGC,W;;;AAiDnB,eAAeE,eAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\n\nconst useReservciones = ({reserva}) => {\n  const [res, setRes] = useState(reserva);\n  const [cis, setCis] = useState([]);\n  const [visible, setVisible] = useState(true);\n  const { cant } = useParams();\n  const state = useSelector((state) => state);\n  const { cantidad } = state.reservacion;\n  //const { viajes } = state.viajes;\n  const dispatch = useDispatch();\n\n  const { viajes, loadViajes, postReservaciones, setOpenModal } =\n    useContext(ReservacionContext);\n\n  console.log(\"ver cantidad\", cantidad);\n  let history = useHistory();\n\n  const Regresar = () => {\n    history.push(\"/admin/reservar\");\n  };\n\n  useEffect(() => {\n    loadViajes();\n  }, []);\n  const handleChangeCIS = (e) => {\n    e.preventDefault();\n    cis.push(e.target.value);\n  };\n\n  const handleChange = (e) => {\n    res.asientos = Number(cant);\n\n    setRes({\n      ...res,\n      [e.target.name]: e.target.value,\n    });\n  };\n   const hanledsubmit = (e) => {\n     e.preventDefault();\n     console.log(\"se envio el submit\", cis);\n     res.cis = cis.join(\",\");\n     console.log(\"se envio el submit\", res);\n     //console.log(\"ver viajes\", viajes);\n     postReservaciones(res);\n     history.push(\"/admin/reservaciones\");\n   };\n  return {\n    cantidad,\n    viajes,\n    res,\n    cant,\n    hanledsubmit,\n    handleChange,\n    handleChangeCIS,\n    Regresar,\n  };\n};\n\nexport default useReservciones;\n"]},"metadata":{},"sourceType":"module"}