{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport servicesviajes from \"modules/Viajes/services\";\nimport ReservacionContext from \"context/ReservacionesContext\";\n\nconst useReservciones = (reserva, validationsForm) => {\n  _s();\n\n  const [res, setRes] = useState(reserva);\n  const [cis, setCis] = useState([]);\n  const [errores, setErrores] = useState({});\n  const {\n    cant\n  } = useParams();\n  const state = useSelector(state => state);\n  const {\n    cantidad\n  } = state.reservacion; //const { viajes } = state.viajes;\n\n  const dispatch = useDispatch();\n  const {\n    viajes,\n    loadViajes,\n    postReservaciones,\n    setOpenModal\n  } = useContext(ReservacionContext);\n  console.log(\"ver cantidad\", cantidad);\n  let history = useHistory();\n\n  const Regresar = () => {\n    history.push(\"/admin/reservar\");\n  };\n\n  useEffect(() => {\n    loadViajes();\n  }, []);\n\n  const handleChangeCIS = e => {\n    e.preventDefault();\n    cis.push(e.target.value);\n  };\n\n  const handleChange = e => {\n    res.asientos = Number(cant);\n    setRes({ ...res,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleOnKeyUp = e => {\n    handleChange(e);\n    setErrores;\n  };\n\n  const hanledsubmit = e => {\n    e.preventDefault();\n    console.log(\"se envio el submit\", cis);\n    res.cis = cis.join(\",\");\n    console.log(\"se envio el submit\", res); //console.log(\"ver viajes\", viajes);\n\n    postReservaciones(res);\n    history.push(\"/admin/reservaciones\");\n  };\n\n  return {\n    cantidad,\n    viajes,\n    res,\n    cant,\n    hanledsubmit,\n    handleChange,\n    handleChangeCIS,\n    Regresar\n  };\n};\n\n_s(useReservciones, \"UMmOSCrhHp27MpPkDtq12X3wu/Q=\", false, function () {\n  return [useParams, useSelector, useDispatch, useHistory];\n});\n\nexport default useReservciones;","map":{"version":3,"sources":["/media/lmdiaz/bd47588f-a8f9-4e55-b2d4-112c4f385fdf/Lexys/Programacion/proyecto/Reservaciones/Reservaciones-bootstrap/src/hooks/useReservciones.js"],"names":["React","useState","useEffect","useContext","useSelector","useDispatch","useParams","useHistory","servicesviajes","ReservacionContext","useReservciones","reserva","validationsForm","res","setRes","cis","setCis","errores","setErrores","cant","state","cantidad","reservacion","dispatch","viajes","loadViajes","postReservaciones","setOpenModal","console","log","history","Regresar","push","handleChangeCIS","e","preventDefault","target","value","handleChange","asientos","Number","name","handleOnKeyUp","hanledsubmit","join"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport servicesviajes from \"modules/Viajes/services\";\nimport ReservacionContext from \"context/ReservacionesContext\";\n\nconst useReservciones = (reserva, validationsForm) => {\n  const [res, setRes] = useState(reserva);\n  const [cis, setCis] = useState([]);\n  const [errores, setErrores] = useState({});\n  const { cant } = useParams();\n  const state = useSelector((state) => state);\n  const { cantidad } = state.reservacion;\n  //const { viajes } = state.viajes;\n  const dispatch = useDispatch();\n\n  const { viajes, loadViajes, postReservaciones, setOpenModal } =\n    useContext(ReservacionContext);\n\n  console.log(\"ver cantidad\", cantidad);\n  let history = useHistory();\n\n  const Regresar = () => {\n    history.push(\"/admin/reservar\");\n  };\n\n  useEffect(() => {\n    loadViajes();\n  }, []);\n  const handleChangeCIS = (e) => {\n    e.preventDefault();\n    cis.push(e.target.value);\n  };\n\n  const handleChange = (e) => {\n    res.asientos = Number(cant);\n\n    setRes({\n      ...res,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleOnKeyUp = (e)=>{\n    handleChange(e)\n    setErrores\n  }\n  const hanledsubmit = (e) => {\n    e.preventDefault();\n    console.log(\"se envio el submit\", cis);\n    res.cis = cis.join(\",\");\n    console.log(\"se envio el submit\", res);\n    //console.log(\"ver viajes\", viajes);\n    postReservaciones(res);\n    history.push(\"/admin/reservaciones\");\n  };\n  return {\n    cantidad,\n    viajes,\n    res,\n    cant,\n    hanledsubmit,\n    handleChange,\n    handleChangeCIS,\n    Regresar,\n  };\n};\n\nexport default useReservciones;\n"]},"metadata":{},"sourceType":"module"}